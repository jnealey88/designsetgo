(()=>{document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".dsg-accordion").forEach(e=>{if(e.hasAttribute("data-dsg-initialized"))return;e.setAttribute("data-dsg-initialized","true");const t="true"===e.getAttribute("data-allow-multiple"),n=e.querySelectorAll(".dsg-accordion-item"),r=document.createElement("a");r.href="#end-of-accordion",r.className="dsg-accordion__skip-link",r.textContent="Skip accordion",r.addEventListener("click",t=>{t.preventDefault();const o=e.nextElementSibling;o&&o.tabIndex>=0?o.focus():n[n.length-1]?.querySelector(".dsg-accordion-item__trigger")?.focus()}),e.insertBefore(r,e.firstChild),n.forEach(r=>{const c=r.querySelector(".dsg-accordion-item__trigger"),s=r.querySelector(".dsg-accordion-item__panel");c&&s&&("true"===r.getAttribute("data-initially-open")?o(r,s,!1):i(r,s,!1),c.addEventListener("click",n=>{n.preventDefault(),r.classList.contains("dsg-accordion-item--open")?i(r,s,!0):(t||function(e){e.querySelectorAll(".dsg-accordion-item").forEach(e=>{const t=e.querySelector(".dsg-accordion-item__panel");t&&e.classList.contains("dsg-accordion-item--open")&&i(e,t,!0)})}(e),o(r,s,!0,!0))}),c.addEventListener("keydown",e=>{if("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),c.click()),"ArrowUp"===e.key){e.preventDefault();const t=function(e,t){const o=Array.from(t),i=o.indexOf(e);return i>0?o[i-1]:null}(r,n);t&&t.querySelector(".dsg-accordion-item__trigger")?.focus()}if("ArrowDown"===e.key){e.preventDefault();const t=function(e,t){const o=Array.from(t),i=o.indexOf(e);return i<o.length-1?o[i+1]:null}(r,n);t&&t.querySelector(".dsg-accordion-item__trigger")?.focus()}"Home"===e.key&&(e.preventDefault(),n[0]?.querySelector(".dsg-accordion-item__trigger")?.focus()),"End"===e.key&&(e.preventDefault(),n[n.length-1]?.querySelector(".dsg-accordion-item__trigger")?.focus())}))})})});const e=window.matchMedia("(prefers-reduced-motion: reduce)").matches,t=e?0:350;function o(o,i,n=!0,r=!1){o.classList.remove("dsg-accordion-item--closed"),o.classList.add("dsg-accordion-item--open");const c=o.querySelector(".dsg-accordion-item__trigger");c&&c.setAttribute("aria-expanded","true"),i.hidden=!1;const s=i.querySelector(".dsg-accordion-item__content"),d=s?s.scrollHeight:i.scrollHeight;n&&!e?(i.style.height="0px",requestAnimationFrame(()=>{i.style.height=`${d}px`,r&&setTimeout(()=>{!function(t){const o=t.getBoundingClientRect(),i=window.innerHeight;if(o.top<100||o.bottom>i){const o={behavior:e?"auto":"smooth",block:"nearest",inline:"nearest"};t.scrollIntoView(o)}}(o)},t/2),setTimeout(()=>{i.style.height=""},t)})):i.style.height=""}function i(o,i,n=!0){const r=i.scrollHeight;o.classList.remove("dsg-accordion-item--open"),o.classList.add("dsg-accordion-item--closed");const c=o.querySelector(".dsg-accordion-item__trigger");if(c&&c.setAttribute("aria-expanded","false"),!n||e)return i.hidden=!0,void(i.style.height="");i.style.height=`${r}px`,requestAnimationFrame(()=>{i.style.height="0px",setTimeout(()=>{i.hidden=!0,i.style.height=""},t)})}})();