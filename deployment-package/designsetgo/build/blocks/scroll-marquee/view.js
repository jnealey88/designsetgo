(()=>{function e(){const e=document.querySelectorAll(".dsg-scroll-marquee");e.length&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches||e.forEach(e=>{const t=parseFloat(e.dataset.scrollSpeed)||.5,r=e.querySelectorAll(".dsg-scroll-marquee__row");if(!r.length)return;const o=[];r.forEach(e=>{const t=e.querySelector(".dsg-scroll-marquee__track"),r=t?.querySelector(".dsg-scroll-marquee__track-segment");if(r){const e=r.offsetWidth,n=window.getComputedStyle(t).gap||"20px",s=parseFloat(n);o.push({segmentWidth:e,gap:s})}else o.push({segmentWidth:0,gap:0})});let n=!1;new IntersectionObserver(e=>{e.forEach(e=>{n=e.isIntersecting})},{root:null,rootMargin:"0px",threshold:.1}).observe(e);let s=!1;function a(){if(!n)return void(s=!1);const e=window.scrollY||window.pageYOffset;r.forEach((r,n)=>{const s=r.querySelector(".dsg-scroll-marquee__track");if(!s)return;const a=r.dataset.direction,c=o[n];if(c.segmentWidth>0){let r,o=e*t;o%=c.segmentWidth+c.gap,r="left"===a?-o:o-c.segmentWidth,s.style.transform=`translateX(${r}px)`}}),s=!1}window.addEventListener("scroll",function(){s||(requestAnimationFrame(a),s=!0)},{passive:!0}),a()}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})();