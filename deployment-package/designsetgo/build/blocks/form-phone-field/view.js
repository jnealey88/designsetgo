document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('.dsgo-form-field__phone-wrapper[data-auto-format="true"]').forEach(e=>{const t=e.querySelector('input[type="tel"]');if(!t)return;const n=t.dataset.phoneFormat||"any";function l(e,t){const n=e.replace(/\D/g,"");return"us"===t?n.length<=3?n:n.length<=6?`(${n.slice(0,3)}) ${n.slice(3)}`:`(${n.slice(0,3)}) ${n.slice(3,6)}-${n.slice(6,10)}`:"international"===t?n.length<=3?n:n.length<=6?`${n.slice(0,3)} ${n.slice(3)}`:n.length<=9?`${n.slice(0,3)} ${n.slice(3,6)} ${n.slice(6)}`:`${n.slice(0,3)} ${n.slice(3,6)} ${n.slice(6,10)}`:n.length<=3?n:n.length<=6?`${n.slice(0,3)} ${n.slice(3)}`:`${n.slice(0,3)} ${n.slice(3,6)} ${n.slice(6)}`}t.addEventListener("input",function(e){const t=e.target.selectionStart,c=e.target.value,a=c.length,i=l(c,n),s=i.length;e.target.value=i;const o=t+(s-a);e.target.setSelectionRange(o,o)}),t.addEventListener("paste",function(e){e.preventDefault();const t=l((e.clipboardData||window.clipboardData).getData("text"),n);e.target.value=t})})});