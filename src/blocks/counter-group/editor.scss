/**
 * Counter Group Block - Editor Styles
 *
 * Editor-specific styles (matches frontend for WYSIWYG)
 */

.dsg-counter-group {
	box-sizing: border-box;
	max-width: 100%; // Prevent overflow in containers and on small screens
	// CRITICAL: Must be duplicated from style.scss for editor/frontend parity

	// Wide alignment - use negative margins to extend to wide width
	&.alignwide {
		width: var(--wp--style--global--wide-size);
		max-width: 100%;
	}

	// Full alignment - use negative margins to extend edge-to-edge
	&.alignfull {
		width: 100%;
		max-width: 100%;
		margin-right: calc(var(--wp--style--root--padding-right) * -1);
		margin-left: calc(var(--wp--style--root--padding-left) * -1);
	}

	// Default text color that child Counter blocks will inherit
	// WordPress applies inline style when user chooses a color, which takes precedence
	color: var(--wp--preset--color--contrast);

	&__inner {
		display: grid;
		grid-template-columns: repeat(var(--dsg-counter-columns-desktop, 3), 1fr);
		gap: var(--dsg-counter-gap, 32px);
		width: 100%;
		box-sizing: border-box;

		// Alignment classes
		&.align-left {
			justify-items: start;
			text-align: left;
		}

		&.align-center {
			justify-items: center;
			text-align: center;
		}

		&.align-right {
			justify-items: end;
			text-align: right;
		}
	}

	// Editor-specific styles to improve UX
	// WordPress wraps inner blocks in .block-editor-block-list__layout
	// We need to make it transparent so grid applies to the actual counter blocks
	&__inner > .block-editor-block-list__layout {
		display: contents;
	}

	// Make the grid container clickable in gap areas
	// This allows users to click between counter items to select the counter-group
	&__inner {
		pointer-events: auto;
		min-height: 50px; // Ensure there's a clickable area even with few items

		// Add a subtle visual indicator when the counter-group is selected
		.is-selected > & {
			outline: 1px solid var(--wp-admin-theme-color, #007cba);
			outline-offset: 2px;
		}
	}

	// Counter blocks should also be clickable for individual selection
	.wp-block-designsetgo-counter {
		pointer-events: auto;
	}

	// Placeholder state (no inner blocks yet)
	.block-editor-inner-blocks.block-editor-block-list__layout:empty::before {
		content: attr(data-placeholder);
		color: #757575;
		font-style: italic;
	}

	// Tablet breakpoint (768px - 1023px)
	@media (max-width: 1023px) {

		&__inner {
			grid-template-columns: repeat(var(--dsg-counter-columns-tablet, 2), 1fr);
		}
	}

	// Mobile breakpoint (<768px)
	@media (max-width: 767px) {

		&__inner {
			grid-template-columns: repeat(var(--dsg-counter-columns-mobile, 1), 1fr);
		}
	}
}
