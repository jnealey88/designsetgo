/**
 * Flex Container Block - Frontend Styles
 *
 * Frontend styles for the Flex Container block.
 *
 * @package DesignSetGo
 */

.dsg-flex {
	// Container display - WordPress handles flex layout through native layout support
	// We only need to override specific behaviors

	// Smooth transition for hover background color
	transition: background-color 0.3s ease;

	// CRITICAL: Inner container must be full width for justify-content to work
	// When constrainWidth is enabled, inline styles will override with max-width
	.dsg-flex__inner {
		width: 100%;
	}

	// CRITICAL: Fix flex children behavior
	// With two-div structure, flex children are inside .dsg-flex__inner
	.dsg-flex__inner > * {
		// Disable float - WordPress core CSS applies float: right/left for alignment classes
		// This breaks flex layout, so we override it
		float: none !important;

		// Remove auto margins - WordPress adds margin-left/right: auto when contentSize is set
		// This breaks justify-content alignment
		margin-left: 0 !important;
		margin-right: 0 !important;
	}

	// Mobile stack behavior (screens < 768px)
	&--mobile-stack {

		@media (max-width: 767px) {
			flex-direction: column !important;
		}
	}

	// Hover background and text colors using CSS custom properties
	// CRITICAL: Only apply hover when variables are actually set on THIS element
	// This prevents hover bleeding to adjacent containers that don't have hover settings
	&:hover {
		// Only apply background if hover background is set
		&[style*="--dsg-hover-bg-color"] {
			background-color: var(--dsg-hover-bg-color);
		}

		// Only apply text color if hover text color is set
		// Use !important to override custom text colors set by users
		&[style*="--dsg-hover-text-color"] {
			color: var(--dsg-hover-text-color) !important;

			// Apply text color to all text elements for consistency
			// !important needed to override custom color classes/inline styles
			h1,
			h2,
			h3,
			h4,
			h5,
			h6,
			p,
			a,
			span,
			li,
			td,
			th,
			.wp-block-heading,
			.wp-block-paragraph {
				color: var(--dsg-hover-text-color) !important;
			}
		}
	}
}
