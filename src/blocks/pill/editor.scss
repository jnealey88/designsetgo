/**
 * Pill Block Editor Styles
 */

.dsg-pill {
	// Make editing area clear
	min-height: 40px;
	display: flex;
	align-items: center;

	// Alignment options in editor
	&.has-text-align-left {
		justify-content: flex-start;
	}

	&.has-text-align-center {
		justify-content: center;
	}

	&.has-text-align-right {
		justify-content: flex-end;
	}

	// Remove background/color styles from wrapper when using WordPress color controls
	// These should apply to the inner span, not the outer div
	&[class*="has-"][class*="-background-color"],
	&[class*="has-"][class*="-color"]:not([class*="-background-color"]),
	&.has-background,
	&.has-text-color {
		background-color: transparent !important;
		background: transparent !important;
		color: inherit !important;
	}
}

.dsg-pill__content {
	// Cursor indication for editing
	cursor: text;

	// Placeholder styling
	&[data-rich-text-placeholder]::before {
		opacity: 0.6;
	}
}

// Transfer WordPress color classes from wrapper to inner span (same as frontend)
.dsg-pill {
	// Background colors
	@each $color in (primary, secondary, tertiary, contrast, base, base-2, accent, accent-2, accent-3, accent-4, accent-5) {
		&.has-#{$color}-background-color .dsg-pill__content {
			background-color: var(--wp--preset--color--#{$color}) !important;
		}
	}

	// Text colors
	@each $color in (primary, secondary, tertiary, contrast, base, base-2, accent, accent-2, accent-3, accent-4, accent-5) {
		&.has-#{$color}-color .dsg-pill__content {
			color: var(--wp--preset--color--#{$color}) !important;
		}
	}

	// Gradient backgrounds
	&.has-background[style*="background"] .dsg-pill__content {
		background: inherit !important;
	}

	// Custom colors (inline styles)
	&[style*="background-color"] .dsg-pill__content {
		background-color: inherit !important;
	}

	// Transfer inline text color to inner content
	// Note: We check for " color:" with space to avoid matching "background-color"
	&[style*=" color:"] .dsg-pill__content,
	&[style*=";color:"] .dsg-pill__content {
		color: inherit !important;
	}
}
