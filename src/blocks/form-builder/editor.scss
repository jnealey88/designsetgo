/**
 * Form Builder Block - Editor Styles
 *
 * CRITICAL: Must be duplicated from style.scss for editor/frontend parity
 *
 * @since 1.0.0
 */

// Import the main frontend styles for base styling
@use './style' as *;

// Editor-specific overrides and enhancements
.editor-styles-wrapper {
	// Form builder in editor
	.dsgo-form-builder {
		// Add slight padding in editor for better block selection
		padding: 1rem;
		border: 1px dashed transparent;
		transition: border-color 0.2s ease;

		&.is-selected,
		&.has-child-selected {
			border-color: var(--wp-admin-theme-color, #2563eb);
		}

		// Override WP editor default styles on form inputs.
		// WP applies styles to input[type="text"], select, textarea etc.
		// with .editor-styles-wrapper ancestor specificity. We need higher
		// specificity scoped to our form builder to ensure custom properties
		// (height, padding, border, background) actually apply.
		.dsgo-form-field__input,
		.dsgo-form-field__textarea,
		.dsgo-form-field__select,
		.dsgo-form-field__country-code {
			box-sizing: border-box;
			padding: var(--dsgo-form-input-padding, 0.75rem);
			min-height: var(--dsgo-form-input-height, 44px);
			font-size: 1rem;
			line-height: 1.5;
			color: inherit;
			background-color: var(--dsgo-form-field-bg, var(--wp--preset--color--base, #fff));
			border: 1px solid var(--dsgo-field-border-color, var(--dsgo-form-border-color, #d1d5db));
			border-radius: var(--dsgo-field-border-radius, var(--dsgo-form-border-radius, 0.375rem));
		}
	}

	// Submit button in editor should be disabled
	.dsgo-form__submit {
		cursor: default;
		pointer-events: none;

		&:hover {
			transform: none;
			opacity: 1;
		}
	}

	// Show editor message hint
	.dsgo-form__message--editor {
		display: block !important;
		opacity: 0.5;
		font-style: italic;
		background-color: #f3f4f6;
		border: 1px dashed #d1d5db;
		color: #6b7280;
	}

	// Empty state hint for form fields
	.dsgo-form__fields:empty::after {
		content: 'Add form fields using the block inserter (+) button';
		display: block;
		padding: 2rem;
		text-align: center;
		color: #6b7280;
		font-style: italic;
		background-color: #f9fafb;
		border: 2px dashed #e5e7eb;
		border-radius: var(--dsgo-form-border-radius);
	}
}
