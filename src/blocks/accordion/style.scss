/**
 * Accordion Block - Frontend Styles
 * Professional, polished accordion with consistent DesignSetGo styling
 */

.dsgo-accordion {
	// CSS Custom Properties for easy theming
	--dsgo-accordion-gap: var(--wp--preset--spacing--20, 0.5rem);
	--dsgo-accordion-border-color: var(--wp--preset--color--contrast, rgba(0, 0, 0, 0.1));
	--dsgo-accordion-border-radius: 8px;
	--dsgo-accordion-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);

	// Reset any default styles
	list-style: none;
	margin: 0;
	padding: 0;
	position: relative;
	width: 100%; // Fill container width

	// Optional: subtle border around entire accordion
	border-radius: var(--dsgo-accordion-border-radius);
	overflow: hidden;

	/**
	 * Skip Link (Accessibility)
	 * Visually hidden until focused - allows keyboard users to skip accordion
	 */
	.dsgo-accordion__skip-link {
		position: absolute;
		left: -9999px;
		top: auto;
		width: 1px;
		height: 1px;
		overflow: hidden;

		&:focus {
			position: relative;
			left: auto;
			width: auto;
			height: auto;
			padding: 0.5rem 1rem;
			margin-bottom: 0.5rem;
			background: var(--wp--preset--color--accent-2, #2563eb);
			color: var(--wp--preset--color--base, #fff);
			text-decoration: none;
			border-radius: 4px;
			font-weight: 600;
			display: inline-block;
		}
	}

	// Container for accordion items
	.dsgo-accordion__items {
		display: flex;
		flex-direction: column;
		gap: var(--dsgo-accordion-gap);
	}

	// Border between items - refined styling
	&.dsgo-accordion--border-between {

		.dsgo-accordion__items {
			gap: 0;
		}

		.dsgo-accordion-item:not(:last-child) {
			border-bottom: 1px solid var(--dsgo-accordion-border-color);
		}

		// First item rounded top
		.dsgo-accordion-item:first-child {
			border-top-left-radius: var(--dsgo-accordion-border-radius);
			border-top-right-radius: var(--dsgo-accordion-border-radius);
			overflow: hidden;
		}

		// Last item rounded bottom
		.dsgo-accordion-item:last-child {
			border-bottom-left-radius: var(--dsgo-accordion-border-radius);
			border-bottom-right-radius: var(--dsgo-accordion-border-radius);
			overflow: hidden;
		}
	}

	// Icon positioning variants
	&.dsgo-accordion--icon-left {
		// Custom styles if needed
	}

	&.dsgo-accordion--icon-right {
		// Custom styles if needed
	}

	&.dsgo-accordion--no-icon {

		.dsgo-accordion-item__icon {
			display: none;
		}
	}

	// Multiple open mode indicator
	&.dsgo-accordion--multiple {
		// Optional: visual indicator for multiple mode
	}

	// Full width alignment support
	&.alignwide,
	&.alignfull {
		width: 100%;
	}

	// Card style variant (optional enhancement)
	&.is-style-card {
		border: 1px solid var(--dsgo-accordion-border-color);
		box-shadow: var(--dsgo-accordion-shadow);
		border-radius: var(--dsgo-accordion-border-radius);
		padding: var(--wp--preset--spacing--20, 0.5rem);
		background: var(--wp--preset--color--base, #fff);
	}

	// Minimal style variant
	&.is-style-minimal {
		--dsgo-accordion-border-color: transparent;
		--dsgo-accordion-shadow: none;

		.dsgo-accordion-item {
			background-color: transparent;
		}
	}
}

// Dark mode support
@media (prefers-color-scheme: dark) {

	.dsgo-accordion {
		--dsgo-accordion-border-color: rgba(255, 255, 255, 0.1);
		--dsgo-accordion-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
	}
}
