/**
 * Stack Container Block - Editor Styles
 *
 * Editor-only styles for the Stack Container block.
 *
 * @package DesignSetGo
 */

.dsg-stack {
	// Visual indicator in editor
	position: relative;

	&__inner {
		// CRITICAL: Stack container needs full width for alignment properties to work
		// Must be duplicated from style.scss for editor/frontend parity
		width: 100%;
		min-height: 100px; // Ensure visible area when empty

		// CRITICAL: Nested Flex/Stack containers need full width to fill parent
		// Must be duplicated from style.scss for editor/frontend parity
		// Grid containers are block-level and auto-fill, don't need explicit width
		> .dsg-flex,
		> .dsg-stack {
			width: 100%;
		}

		// CRITICAL: Block-level elements need full width for text-align to work properly
		// Must be duplicated from style.scss for editor/frontend parity
		> h1,
		> h2,
		> h3,
		> h4,
		> h5,
		> h6,
		> p,
		> .wp-block-heading,
		> .wp-block-paragraph {
			width: 100%;
		}
	}

	// Show outline when selected (editor-only)
	&.is-selected {
		outline: 1px dashed rgba(37, 99, 235, 0.3);
		outline-offset: -1px;
	}
}

// ========================================
// Hide padding controls for nested containers
// When a container is nested inside another container, padding should default to 0
// Only parent containers should have padding controls visible
// Uses CSS to detect if a stack is nested inside any container block
// ========================================
body:has(.dsg-grid .dsg-stack.is-selected),
body:has(.dsg-flex .dsg-stack.is-selected),
body:has(.dsg-stack .dsg-stack.is-selected) {
	// Hide padding controls in Dimensions panel
	.block-editor-block-inspector__advanced
		.components-panel__body:has(.components-base-control:has([aria-label*='Padding' i])) {
		.components-base-control:has([aria-label*='Padding' i]) {
			display: none !important;
		}
	}
}
