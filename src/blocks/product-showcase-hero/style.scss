/**
 * Product Showcase Hero Block - Frontend Styles
 *
 * Full-width hero layout with product image and details.
 * Mirrors the Fifty Fifty block's content-width alignment technique.
 *
 * @package DesignSetGo
 * @since 2.1.0
 */

.dsgo-product-showcase-hero {
	box-sizing: border-box;

	// Two-column grid: each half is 50% of the container.
	display: grid;
	grid-template-columns: 1fr 1fr;
	min-height: var(--dsgo-psh-min-height, auto);
	gap: 0;
	overflow: hidden;

	// ==============================================
	// MEDIA SIDE
	// ==============================================
	&__media {
		position: relative;
		overflow: hidden;

		img {
			display: block;
			width: 100%;
			height: 100%;
			object-fit: cover;
		}
	}

	// Sale badge overlay.
	&__sale-badge {
		position: absolute;
		top: var(--wp--preset--spacing--30, 1rem);
		left: var(--wp--preset--spacing--30, 1rem);
		background: var(--wp--preset--color--vivid-red, #cf2e2e);
		color: #fff;
		padding: 4px 12px;
		font-size: 0.875rem;
		font-weight: 600;
		border-radius: 3px;
		line-height: 1.4;
		z-index: 1;
	}

	// Media-right: badge on right side.
	&--media-right &__sale-badge {
		left: auto;
		right: var(--wp--preset--spacing--30, 1rem);
	}

	// ==============================================
	// CONTENT SIDE
	// ==============================================
	&__content {
		display: flex;
		flex-direction: column;
		justify-content: var(--dsgo-psh-content-justify, center);
		padding-top: var(--wp--preset--spacing--50, 2rem);
		padding-bottom: var(--wp--preset--spacing--50, 2rem);
	}

	// Content inner — width constraint technique from Fifty Fifty.
	&__content-inner {
		width: 100%;
		max-width: calc(var(--wp--style--global--content-size, 1140px) / 2);
	}

	// ----- Media Left: content on right -----
	&--media-left &__content {
		padding-left: var(--wp--preset--spacing--50, 2rem);
		padding-right: max(
			var(--wp--preset--spacing--50, 2rem),
			calc((100vw - var(--wp--style--global--content-size, 1140px)) / 2)
		);
	}

	&--media-left &__content-inner {
		margin-right: auto;
		margin-left: 0;
	}

	// ----- Media Right: content on left -----
	&--media-right {

		.dsgo-product-showcase-hero__media {
			order: 2;
		}

		.dsgo-product-showcase-hero__content {
			order: 1;
			padding-left: max(
				var(--wp--preset--spacing--50, 2rem),
				calc((100vw - var(--wp--style--global--content-size, 1140px)) / 2)
			);
			padding-right: var(--wp--preset--spacing--50, 2rem);
		}

		.dsgo-product-showcase-hero__content-inner {
			margin-left: auto;
			margin-right: 0;
		}
	}

	// ==============================================
	// PRODUCT ELEMENTS
	// All text elements inherit the block's text color
	// set via block supports (color.text).
	// ==============================================
	&__title {
		margin: 0 0 0.5em;
		font-size: 2em;
		line-height: 1.2;
		color: inherit;
	}

	&__price {
		margin-bottom: 0.75em;
		font-size: 1.25em;
		font-weight: 600;
		color: inherit;

		del {
			opacity: 0.6;
			margin-right: 0.5em;
		}

		ins {
			text-decoration: none;
		}
	}

	&__rating {
		margin-bottom: 0.75em;
		color: inherit;

		// WooCommerce star rating styles.
		/* stylelint-disable-next-line selector-class-pattern -- WooCommerce class */
		.star-rating {
			display: inline-block;
		}
	}

	&__stock {
		margin-bottom: 0.75em;
		font-size: 0.875em;
		font-weight: 500;

		// Use :where() for low specificity — block text color can override.
		&--instock {
			color: var(--wp--preset--color--vivid-green-cyan, #00d084);
		}

		&--outofstock {
			color: var(--wp--preset--color--vivid-red, #cf2e2e);
		}
	}

	&__description {
		margin-bottom: 1.5em;
		font-size: 0.9375em;
		line-height: 1.6;
		color: inherit;
	}

	&__actions {
		margin-top: 0.5em;

		// WooCommerce add-to-cart buttons inherit theme button styles
		// via the wp-element-button class added in render.php.
		// Only add layout/spacing tweaks here.
		/* stylelint-disable selector-class-pattern -- WooCommerce classes */
		.single_add_to_cart_button,
		.add_to_cart_button {
			display: inline-block;
			cursor: pointer;
		}
		/* stylelint-enable selector-class-pattern */
	}

	// ==============================================
	// MOBILE RESPONSIVE
	// ==============================================
	@media (max-width: 767px) {
		grid-template-columns: 1fr;
	}

	// Override media position order on mobile.
	@media (max-width: 767px) {

		.dsgo-product-showcase-hero__media {
			order: 1;
			min-height: 250px;
		}

		.dsgo-product-showcase-hero__content {
			order: 2;
			padding-left: var(--wp--preset--spacing--30, 1rem);
			padding-right: var(--wp--preset--spacing--30, 1rem);
		}

		.dsgo-product-showcase-hero__content-inner {
			max-width: none;
			margin-left: auto;
			margin-right: auto;
		}
	}
}
