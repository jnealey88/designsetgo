/**
 * Background Video Extension - Editor Styles
 *
 * Editor-only styles for blocks with background videos.
 * CRITICAL: Must be duplicated from style.scss for editor/frontend parity
 *
 * @package DesignSetGo
 */

.dsgo-has-video-background {
	position: relative;
	overflow: hidden; // CRITICAL: Makes border radius work by clipping video
	width: 100%; // CRITICAL: Ensure wrapper doesn't shrink nested containers

	// CRITICAL: When wrapper has alignfull, apply same negative margins as WordPress does for full-width blocks
	// This ensures the video background wrapper extends edge-to-edge in the editor
	&.alignfull {
		margin-right: calc(var(--wp--style--root--padding-right, 0px) * -1) !important;
		margin-left: calc(var(--wp--style--root--padding-left, 0px) * -1) !important;
	}

	// CRITICAL: Must match style.scss for frontend parity
	.dsgo-video-background,
	.dsgo-video-background-editor {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: 0;
		overflow: hidden;
		pointer-events: none;

		video {
			width: 100%;
			height: 100%;
			object-fit: cover;
		}

		// Video overlay color (70% opacity applied via inline styles)
		.dsgo-video-overlay {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 1;
			pointer-events: none;
		}
	}

	// CRITICAL: Ensure content is above video - must match style.scss
	> *:not(.dsgo-video-background):not(.dsgo-video-background-editor) {
		position: relative;
		z-index: 2;
	}

	// Visual indicator in editor only
	&::after {
		content: 'Video Background';
		position: absolute;
		top: 8px;
		right: 8px;
		background: rgba(37, 99, 235, 0.9);
		color: #fff;
		padding: 4px 8px;
		border-radius: 4px;
		font-size: 11px;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.5px;
		z-index: 10;
		pointer-events: none;
	}
}
