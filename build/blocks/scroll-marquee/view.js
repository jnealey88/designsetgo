(()=>{function e(){const e=document.querySelectorAll(".dsgo-scroll-marquee");e.length&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches||e.forEach(e=>{const t=parseFloat(e.dataset.scrollSpeed)||.5,o=e.querySelectorAll(".dsgo-scroll-marquee__row");if(!o.length)return;const r=[];o.forEach(e=>{const t=e.querySelector(".dsgo-scroll-marquee__track"),o=t?.querySelector(".dsgo-scroll-marquee__track-segment");if(o){const e=o.offsetWidth,n=window.getComputedStyle(t).gap||"20px",s=parseFloat(n);r.push({segmentWidth:e,gap:s})}else r.push({segmentWidth:0,gap:0})});let n=!1;new IntersectionObserver(e=>{e.forEach(e=>{n=e.isIntersecting})},{root:null,rootMargin:"0px",threshold:.1}).observe(e);let s=!1;function a(){if(!n)return void(s=!1);const e=window.scrollY||window.pageYOffset;o.forEach((o,n)=>{const s=o.querySelector(".dsgo-scroll-marquee__track");if(!s)return;const a=o.dataset.direction,c=r[n];if(c.segmentWidth>0){let o,r=e*t;r%=c.segmentWidth+c.gap,o="left"===a?-r:r-c.segmentWidth,s.style.transform=`translateX(${o}px)`}}),s=!1}window.addEventListener("scroll",function(){s||(requestAnimationFrame(a),s=!0)},{passive:!0}),a()}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})();